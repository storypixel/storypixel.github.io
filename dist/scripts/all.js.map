{"version":3,"sources":["home.js"],"names":["init","organizeThoughts","initProgressBar","console","log","last_known_scroll_position","ticking","className","sections","document","querySelectorAll","doSomething","scroll_pos","scrolledPast","Array","from","filter","el","x","getBoundingClientRect","top","activeThoughtWrapper","length","topOfActive","offsetHeight","getElementById","style","width","window","addEventListener","e","scrollY","requestAnimationFrame","elements","forEach","i","thisClassName","classList","add","readyState"],"mappings":";;AAAA;AAEE,SAASA,IAAT,GAAgB;AACd;AACEC;AACAC,oBAHY,CAIZ;AACF;AACD;;AAED,SAASA,eAAT,GAA2B;AACzBC,UAAQC,GAAR,CAAY,uBAAZ;AACA,MAAIC,6BAA6B,CAAjC;AACA,MAAIC,UAAU,KAAd;AAEA,MAAIC,YAAY,iBAAhB;AACA,MAAIC,WAAWC,SAASC,gBAAT,CAA0B,kBAA1B,CAAf;;AAEA,WAASC,WAAT,CAAqBC,UAArB,EAAiC;AAC/B,QAAIC,eAAeC,MAAMC,IAAN,CAAWP,QAAX,EAAqBQ,MAArB,CAA4B,UAACC,EAAD,EAAQ;AACrD,UAAIC,IAAI,CAAR;AACA,aAAOD,GAAGE,qBAAH,GAA2BC,GAA3B,IAAkC,CAAzC,CAFqD,CAGrD;AACD,KAJkB,CAAnB;AAKA,QAAIC,uBAAuBR,aAAaA,aAAaS,MAAb,GAAsB,CAAnC,CAA3B;AACA,QAAIC,cAAcF,qBAAqBF,qBAArB,GAA6CC,GAA/D;AACAjB,YAAQC,GAAR,CAAYQ,UAAZ,EAAwB,IAAxB,EAA8BW,WAA9B,EAA2C,IAA3C,EAAiDF,qBAAqBG,YAAtE;AACAf,aAASgB,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0CC,KAA1C,GAAkD,MAAM,CAACJ,WAAP,GAAmBF,qBAAqBG,YAAxC,GAAqD,IAAvG,CAT+B,CAW/B;AACA;AACA;AACA;AACA;AACD;;AAEDI,SAAOC,gBAAP,CAAwB,QAAxB,EAAkC,UAASC,CAAT,EAAY;AAC5CzB,iCAA6BuB,OAAOG,OAApC;;AAEA,QAAI,CAACzB,OAAL,EAAc;AAEZsB,aAAOI,qBAAP,CAA6B,YAAW;AACtCrB,oBAAYN,0BAAZ;AACAC,kBAAU,KAAV;AACD,OAHD;AAKAA,gBAAU,IAAV;AAED;AAEF,GAdD;AAeD;;AAED,SAASL,gBAAT,GAA4B;AAC1B,MAAIM,YAAY,SAAhB;AACA,MAAI0B,WAAWxB,SAASC,gBAAT,CAA0B,UAA1B,CAAf;AACAuB,WAASC,OAAT,CAAiB,UAASjB,EAAT,EAAakB,CAAb,EAAgB;AAC/B,QAAIC,gBAAgB7B,YAAY,GAAZ,GAAkB4B,CAAtC;AACA,QAAIlB,GAAGoB,SAAP,EAAkBpB,GAAGoB,SAAH,CAAaC,GAAb,CAAiBF,aAAjB,EAAlB,KACKnB,GAAGV,SAAH,IAAgB,MAAM6B,aAAtB;AACN,GAJD;AAKD;;AAEDR,OAAOC,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AAC3C1B,UAAQC,GAAR,CAAY,MAAZ;AACC,CAFH,EAEK,KAFL,E,CAIF;;AAEA,IAAIK,SAAS8B,UAAT,KAAwB,UAA5B,EAAyC;AACvCpC,UAAQC,GAAR,CAAa,mDAAb;AACAJ;AACD,CAHD,MAGO;AACLS,WAASoB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACtD1B,YAAQC,GAAR,CAAa,yCAAb;AACAJ;AACH,GAHD;AAID","file":"all.js","sourcesContent":["// Wait until stuff loads\n\n  function init() {\n    // document.addEventListener(\"DOMContentLoaded\", function(event) {\n      organizeThoughts();\n      initProgressBar();\n      // console.log(\"test\");\n    // });\n  }\n\n  function initProgressBar() {\n    console.log(\"initting progress bar\")\n    var last_known_scroll_position = 0;\n    var ticking = false;\n\n    var className = \"thought-wrapper\";\n    var sections = document.querySelectorAll(\".thought-wrapper\");\n\n    function doSomething(scroll_pos) {\n      var scrolledPast = Array.from(sections).filter((el) => {\n        var x = 0;\n        return el.getBoundingClientRect().top <= 0;\n        // console.log(\"el pos is \", scroll_pos, \"vs\", el.getBoundingClientRect().top, \" w/ height \", )\n      });\n      var activeThoughtWrapper = scrolledPast[scrolledPast.length - 1]\n      var topOfActive = activeThoughtWrapper.getBoundingClientRect().top\n      console.log(scroll_pos, \"vs\", topOfActive, \"vs\", activeThoughtWrapper.offsetHeight)\n      document.getElementById('progress').style.width = 100 * -topOfActive/activeThoughtWrapper.offsetHeight+'vw';\n\n      // document.getElementById('progress').style.background = \"hsl(\"+(scroll_pos/10 % 360)+\", 50%, 70%)\";\n      // var scrolledPast = sections.forEach(function(el, i) {\n      //   let topOfSection = el.getBoundingClientRect().top;\n      //   console.log(\"el pos is \", scroll_pos, \"vs\", el.getBoundingClientRect().top, \" w/ height \", el.offsetHeight)\n      // });\n    }\n    \n    window.addEventListener('scroll', function(e) {\n      last_known_scroll_position = window.scrollY;\n\n      if (!ticking) {\n    \n        window.requestAnimationFrame(function() {\n          doSomething(last_known_scroll_position);\n          ticking = false;\n        });\n         \n        ticking = true;\n    \n      }\n      \n    });\n  }\n\n  function organizeThoughts() {\n    var className = \"thought\";\n    var elements = document.querySelectorAll(\".thought\");\n    elements.forEach(function(el, i) {\n      var thisClassName = className + \"-\" + i;\n      if (el.classList) el.classList.add(thisClassName);\n      else el.className += \" \" + thisClassName;\n    });\n  }\n\n  window.addEventListener(\"scroll\", function() {\n    console.log(\"boom\")\n    }, false);\n\n// document.addEventListener(\"DOMContentLoaded\", init);\n\nif( document.readyState === 'complete' ) {\n  console.log( 'document is already ready, just execute code here' );\n  init();\n} else {\n  document.addEventListener('DOMContentLoaded', function () {\n      console.log( 'document was not ready, place code here' );\n      init();\n  });\n}\n"]}